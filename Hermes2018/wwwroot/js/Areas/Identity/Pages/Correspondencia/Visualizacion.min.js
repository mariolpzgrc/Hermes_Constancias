function LecturaArchivos(){objListadoArchivos.urln=objWebRoot.route+"api/v1/anexos/descarga/envios";objListadoArchivos.paramFolio=$("#folioInput").text();objListadoArchivos.datos=Object.keys({});$.ajax({url:objListadoArchivos.urln,type:"POST",data:JSON.stringify({Folio:objListadoArchivos.paramFolio,TipoEnvioId:objParam.tipoEnvio,EnvioId:objParam.envioId}),datatype:"application/json",contentType:"application/json",beforeSend:function(n){n.setRequestHeader("Authorization","Bearer "+objWebRoot.token)},success:function(n){n!==""&&(objListadoArchivos.datos=Object.keys({}),objListadoArchivos.datos=n,$.each(objListadoArchivos.datos,function(n,t){$("#containerArchivos").append($('<span class="tm-tag cm-tag"><a class="cmt-titulo" href="'+objWebRoot.route+t.Ruta+'" download>'+t.Nombre+"<\/a><\/span>"))}))}})}function LecturaArchivosOrigen(){objListadoArchivos.urln=objWebRoot.route+"api/v1/anexos/descarga/enviosOrigen";objListadoArchivos.paramFolio=$("#folioInput").text();objListadoArchivos.datos=Object.keys({});$.ajax({url:objListadoArchivos.urln,type:"POST",data:JSON.stringify({Folio:objListadoArchivos.paramFolio,TipoEnvioId:objParamOrigen.tipoEnvio,EnvioId:objParamOrigen.envioId}),datatype:"application/json",contentType:"application/json",beforeSend:function(n){n.setRequestHeader("Authorization","Bearer "+objWebRoot.token)},success:function(n){n!==""&&(objListadoArchivos.datos=Object.keys({}),objListadoArchivos.datos=n,$.each(objListadoArchivos.datos,function(n,t){$("#containerArchivosOrigen").append($('<div class="tm-tag cm-tag"><a class="cmt-titulo" href="'+objWebRoot.route+t.Ruta+'" download>'+t.Nombre+"<\/a><\/div>"))}))}})}function toPlainString(n){var t="";return n.forEach(function(n,i,r){t+=r.length-1===i?n:n+","}),t}function getEmailsParaToSend(){var n=[],t=$("#form-autocomplete-para").val(),i;if(t)return i=JSON.parse(t),i.forEach(function(t){n.includes(t.value)||n.push(t.value)}),toPlainString(n)}function updateHelperDataEmails(){$("#EnvioCorreo_Correo").val(getEmailsParaToSend())}function ControlAutocompletarPara(){function t(){updateHelperDataEmails()}const n=document.getElementById("form-autocomplete-para");updateHelperDataEmails();tagifyEmailsPara=new Tagify(n,{maxTags:20,pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/});tagifyEmailsPara.on("add",t)}var objp={urln:""},objd={urln:""},objc={urln:""},obja={urln:""},objWebRoot={route:"",token:""},objUser={username:"",usersession:""},objParam={envioId:0,tipoEnvio:0,existeAdjuntos:!1},objParamOrigen={envioId:0,tipoEnvio:0,existeAdjuntos:!1},objTipoVisualizacion={envio:1,recepcion:2},objTipoEnvio={envio:1,turnar:2,respuestaParcial:3,respuesta:4},objListadoArchivos;$(function(){objUser.username=$("#user").text();objUser.usersession=$("#FolioSession").val();objWebRoot.route=$("#routeWebRoot").val();objWebRoot.token=$("#TokenWebApi").val();objParam.envioId=parseInt($("#envio_identifica").text());objParam.tipoEnvio=parseInt($("#tipo_envio").text());objParam.existeAdjuntos=$("#existe_adjuntos").text().toLowerCase()==="true"?!0:!1;objParamOrigen.envioId=parseInt($("#origen_envio_identifica").text());objParamOrigen.tipoEnvio=parseInt($("#origen_tipo_envio").text());objParamOrigen.existeAdjuntos=$("#origen_existe_adjuntos").text().toLowerCase()==="true"?!0:!1;objParam.existeAdjuntos&&LecturaArchivos();objParamOrigen.existeAdjuntos&&LecturaArchivosOrigen();ControlAutocompletarPara();console.log($("#containerMailsFor").html());var n=document.getElementById("containerMailsFor").innerHTML;console.log(n);$.validator.setDefaults({ignore:[]})});objListadoArchivos={urln:"",paramFolio:"",datos:Object.keys({})};