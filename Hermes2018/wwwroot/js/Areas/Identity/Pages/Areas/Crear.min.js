function ControlDias(){$("input#Crear_Dias_Compromiso").TouchSpin({initval:"",min:1,max:40,step:1,boostat:5,buttondown_class:"btn",buttonup_class:"btn"})}function ControlAreaPadre(){$("#Crear_AsignarAreaPadre").change(function(){$("#Crear_AsignarAreaPadre").is(":checked")?$(".contiene-area-padre").removeClass("d-none"):($(".contiene-area-padre").removeClass("d-none"),$(".contiene-area-padre").addClass("d-none"))})}function ControlAgregarLogo(){$("#Crear_AgregarLogo").change(function(){$("#Crear_AgregarLogo").is(":checked")?$(".contiene-logo").removeClass("d-none"):($(".contiene-logo").removeClass("d-none"),$(".contiene-logo").addClass("d-none"))})}function ObtenerAreas(){$("#Crear_RegionId").change(function(){$("#Crear_RegionId").val()!==""?(objp.id=$("#Crear_RegionId").val(),objp.urln=objWebRoot.route+"api/v1/areas/"+objUser.username+"/"+objp.id,objp.metodo="GET",$.ajax({url:objp.urln,type:objp.metodo,datatype:"application/json",beforeSend:function(n){n.setRequestHeader("Authorization","Bearer "+objWebRoot.token)},success:function(n){objAreas.info=Object.keys({});objAreas.info=n;$("#Crear_Area_PadreId").empty();$("#Crear_Area_PadreId").append($("<option><\/option>").val("").html("[Seleccione un área]"));$.each(objAreas.info,function(n,t){$("#Crear_Area_PadreId").append($("<option><\/option>").val(t.HER_AreaId).html(t.HER_Nombre))})},error:function(){console.log("No se puede recuperar la información")}})):($("#Crear_Area_PadreId").empty(),$("#Crear_Area_PadreId").append($("<option><\/option>").val("").html("[Seleccione una región]")))})}function getFileExtension(n){return/[.]/.exec(n)?/[^.]+$/.exec(n)[0].toLowerCase():null}var objWebRoot={route:"",token:""},objUser={username:""},objp={urln:"",metodo:"",datos:{},id:""},objAreas={info:Object.keys({})},objcheck={valor:!1};$(function(){objWebRoot.route=$("#routeWebRoot").val();objWebRoot.token=$("#TokenWebApi").val();objUser.username=$("#user").text();ObtenerAreas();ControlAreaPadre();ControlAgregarLogo();ControlDias()});$.validator.setDefaults({ignore:""});$.validator.addMethod("condicionbolean",function(n,t,i){return objcheck.valor=$("input[type=checkbox]#Crear_"+i[0]).is(":checked"),objcheck.valor?$.trim(n).length===0||n===0?!1:!0:!0});$.validator.unobtrusive.adapters.add("condicionbolean",["dependencia"],function(n){n.rules.condicionbolean=[n.params.dependencia];n.messages.condicionbolean=n.message});$.validator.addMethod("condicionarchivo",function(n,t,i){var e=$("input[type=checkbox]#Crear_"+i[0]).is(":checked"),u,r,f;if(e){if(u=i[1].split(","),t.files.length===0)return!1;for(r=0;r<t.files.length;r++)if(f=getFileExtension(t.files[r].name),$.inArray(f,u)===-1)return!1}return!0});$.validator.unobtrusive.adapters.add("condicionarchivo",["dependencia","tipos"],function(n){n.rules.condicionarchivo=[n.params.dependencia,n.params.tipos];n.messages.condicionarchivo=n.message});