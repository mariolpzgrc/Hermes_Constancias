function getInfoConstancia(){var n=window.location.pathname,t=parseInt(n.substring(n.lastIndexOf("/")+1));objGetInfoConstancia.urln=objWebRoot.route+"api/constancias/GET_ConstanciaSolicitadaId";$.ajax({url:objGetInfoConstancia.urln,type:"POST",data:JSON.stringify({Id:t}),contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:function(n){n.setRequestHeader("Authorization","Bearer "+objWebRoot.token)},success:function(n){objGetInfoConstancia.info=Object.keys({});objGetInfoConstancia.info=n;$("#folio").text(Mayuscula(objGetInfoConstancia.info.Folio));$("#tipoConstancia").text(objGetInfoConstancia.info.NombreConstancia);$("#idtipoConstancia").text(objGetInfoConstancia.info.ConstanciaId);$("#tituloConstancia").text(objGetInfoConstancia.info.NombreConstancia);$("#constanciaPara").text(objGetInfoConstancia.info.NombreUsuario.toUpperCase());$("#dependencia").text(objGetInfoConstancia.info.NombreDependencia)},error:function(){alert("No pudó terminar la operación")},complete:function(){console.log("paso aqui");objGetInfoConstancia.info.EstadosConstancia.length>0&&$.each(objGetInfoConstancia.info.EstadosConstancia,function(n,t){objtr.elementobase=Object.keys({});t.EstadoId===1?objtr.elementobase=$("#infoEstado").append($('<div class="info-border col-12 pb-1">').append($('<div class="p-2 mb-1 border-top border-bottom-0 bg-light"><strong> El trámite se realizo el: '+moment(t.FechaHora).locale("es").format("DD[/]MM[/]YYYY")+'<\/strong><button type="button" class="btn btn-link float-right btn-sm" id="control-toggle"><i class="fas fa-angle-down"><\/i><\/button><\/div>'))):t.EstadoId===2?objtr.elementobase=$("#infoEstado").append($('<div class="info-border col-12 pb-1">').append($('<div class="p-2 mb-1 border-top border-bottom-0 bg-light"><strong> El trámite se autorizo el: '+moment(t.FechaHora).locale("es").format("DD[/]MM[/]YYYY")+'<\/strong><button type="button" class="btn btn-link float-right btn-sm" id="control-toggle"><i class="fas fa-angle-down"><\/i><\/button><\/div>'))):t.EstadoId===3?objtr.elementobase=$("#infoEstado").append($('<div class="info-border col-12 pb-1">').append($('<div class="p-2 mb-1 border-top border-bottom-0 bg-light"><strong> El trámite se imprimió el: '+moment(t.FechaHora).locale("es").format("DD[/]MM[/]YYYY")+'<\/strong><button type="button" class="btn btn-link float-right btn-sm" id="control-toggle"><i class="fas fa-angle-down"><\/i><\/button><\/div>'))):t.EstadoId===4?objtr.elementobase=$("#infoEstado").append($('<div class="info-border col-12 pb-1">').append($('<div class="p-2 mb-1 border-top border-bottom-0 bg-light"><strong> El trámite se re-imprimió el: '+moment(t.FechaHora).locale("es").format("DD[/]MM[/]YYYY")+'<\/strong><button type="button" class="btn btn-link float-right btn-sm" id="control-toggle"><i class="fas fa-angle-down"><\/i><\/button><\/div>'))):t.EstadoId===5?objtr.elementobase=$("#infoEstado").append($('<div class="info-border col-12 pb-1">').append($('<div class="p-2 mb-1 border-top border-bottom-0 bg-light"><strong> El trámite se entregó el: '+moment(t.FechaHora).locale("es").format("DD[/]MM[/]YYYY")+'<\/strong><button type="button" class="btn btn-link float-right btn-sm" id="control-toggle"><i class="fas fa-angle-down"><\/i><\/button><\/div>'))):t.EstadoId===2&&(objtr.elementobase=$("#infoEstado").append($('<div class="info-border col-12 pb-1">').append($('<div class="p-2 mb-1 border-top border-bottom-0 bg-light"><strong> El trámite se canceló el: '+moment(t.FechaHora).locale("es").format("DD[/]MM[/]YYYY")+'<\/strong><button type="button" class="btn btn-link float-right btn-sm" id="control-toggle"><i class="fas fa-angle-down"><\/i><\/button><\/div>'))))})}})}function ControlToggle(){$("#control-toggle").click(function(){$("#contenido-info").toggle({duration:"fast",complete:function(){$("#contenido-info:visible").length===0?$("#control-toggle i").removeClass("fas fa-angle-down").addClass("fas fa-angle-right"):$("#control-toggle i").removeClass("fas fa-angle-right").addClass("fas fa-angle-down")}})})}function Mayuscula(n){return n.toUpperCase()}function Estado(n){let t="";switch(n){case 1:t="En trámite";break;case 2:t="Autorizada";break;case 3:t="Impresa";break;case 4:t="Re-Impresa";break;case 5:t="Entregada";break;case 6:t="Cancelada"}return t}var objWebRoot={route:"",token:""},objUser={username:"",usersession:""},objtr={elementobase:Object.keys({})},objGetInfoConstancia={Id:0,info:Object.keys({}),urln:""};$(document).ready(function(){getInfoConstancia();ControlToggle()});